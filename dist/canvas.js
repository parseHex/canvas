!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("canvas",[],n):"object"==typeof exports?exports.canvas=n():t.canvas=n()}(window,function(){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var o={};e.d(o,"rect",function(){return f}),e.d(o,"circle",function(){return l}),e.d(o,"ellipse",function(){return s}),e.d(o,"line",function(){return d}),e.d(o,"text",function(){return x});var r={};e.d(r,"clear",function(){return v}),e.d(r,"resetTransform",function(){return g}),e.d(r,"onClick",function(){return p}),e.d(r,"onDrag",function(){return h});var c,i={canvas:null,ctx:null,backgroundCanvas:null,backgroundCtx:null,dragging:!1},a={fill:"#ECEFF1",stroke:"#455A64"},u=2*Math.PI;function f(t){t.fill=t.fill||a.fill,t.stroke=t.stroke||a.stroke,i.ctx.fillStyle=t.fill,i.ctx.strokeStyle=t.stroke,i.ctx.beginPath(),i.ctx.rect(t.x,t.y,t.width,t.height),i.ctx.fill(),i.ctx.stroke(),i.ctx.closePath()}function l(t){delete t.ry,s(t)}function s(t){t.fill=t.fill||a.fill,t.stroke=t.stroke||a.stroke,t.ry=t.ry||t.rx,i.ctx.fillStyle=t.fill,i.ctx.strokeStyle=t.stroke,i.ctx.beginPath(),i.ctx.ellipse(t.x,t.y,t.rx,t.ry,0,0,u),i.ctx.fill(),i.ctx.closePath()}function d(t){t.color=t.color||a.stroke,t.lineWidth=t.lineWidth||1,i.ctx.strokeStyle=t.color,i.ctx.lineWidth=t.lineWidth,i.ctx.beginPath(),i.ctx.moveTo(t.point1.x,t.point1.y),i.ctx.lineTo(t.point2.x,t.point2.y),i.ctx.stroke(),i.ctx.closePath()}function x(t){t.color=t.color||"red",t.fontName=t.fontName||"sans-serif",t.sizePX=t.sizePX||12,i.ctx.font=t.sizePX+"px "+t.fontName,i.ctx.fillStyle=t.color,i.ctx.fillText(t.text,t.x,t.y)}function v(){i.ctx.clearRect(0,0,i.canvas.width,i.canvas.height)}function g(){i.ctx.setTransform(1,0,0,1,0,0)}function p(t){i.canvas.addEventListener("click",function(n){var e={x:n.offsetX,y:n.offsetY};t(e)})}function h(t){i.canvas.addEventListener("mousedown",function(n){i.dragging=!0;var e={x:n.offsetX,y:n.offsetY};t(e)}),window.addEventListener("mouseup",function(){i.dragging=!1}),i.canvas.addEventListener("mousemove",function(n){if(i.dragging){var e={x:n.offsetX,y:n.offsetY};t(e)}})}var m,y,k,b=!1,w=!1,C=-1,P="white",F=1,E=!1;function j(t){if(c=t.loopFunction,b=t.timing||!1,w=t.clearEachFrame||!1,P=t.background||"white",F=Math.floor(60/(t.framerate||60)),m={x:0,y:0,width:i.canvas.width,height:i.canvas.height,stroke:"transparent",fill:P},i.backgroundCanvas){var n=i.canvas,e=i.ctx;i.canvas=i.backgroundCanvas,i.ctx=i.backgroundCtx,f(m),i.canvas=n,i.ctx=e,E=!0}}function S(t){i.canvas=t,i.ctx=t.getContext("2d")}function X(t){i.backgroundCanvas=t,i.backgroundCtx=t.getContext("2d")}function L(){return i.ctx}requestAnimationFrame(function t(){c?(++C%F==0&&(b&&(y=performance.now()),w&&v(),0!==C||w||(f(m),E=!0),E||f(m),c(C),b&&(k=performance.now(),y-y,x({x:5,y:i.canvas.height-5,text:"Frame time: "+k.toFixed(1)+"ms"}))),requestAnimationFrame(t)):requestAnimationFrame(t)}),e.d(n,"setCanvas",function(){return S}),e.d(n,"setBackgroundCanvas",function(){return X}),e.d(n,"getContext",function(){return L}),e.d(n,"setLoop",function(){return j}),e.d(n,"draw",function(){return o}),e.d(n,"utility",function(){return r})}])});
//# sourceMappingURL=canvas.js.map